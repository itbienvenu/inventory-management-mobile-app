<LoginScreen>:
    name: 'login'
    FloatLayout:
        canvas.before:
            # Purple gradient background
            Color:
                rgba: 0.67, 0.51, 0.87, 1  # Light purple
            Rectangle:
                pos: self.pos
                size: self.size
            Color:
                rgba: 0.58, 0.39, 0.83, 1  # Medium purple
            Rectangle:
                pos: self.pos
                size: self.width, self.height * 0.7
            Color:
                rgba: 0.45, 0.22, 0.76, 1  # Darker purple at bottom
            Rectangle:
                pos: self.pos
                size: self.width, self.height * 0.4

        # Login Card
        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            width: '300dp'
            height: '450dp'
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 25
            padding: [35, 40]
            canvas.before:
                # Main card background - deep purple
                Color:
                    rgba: 0.25, 0.11, 0.55, 1  # Deep purple background
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20, 20, 20, 20]
                # Subtle inner shadow effect
                Color:
                    rgba: 0, 0, 0, 0.15
                RoundedRectangle:
                    pos: self.x + 2, self.y + 2
                    size: self.width - 4, self.height - 4
                    radius: [18, 18, 18, 18]

            # App Title
            Label:
                text: 'Inventor.io'
                font_size: '32sp'
                bold: True
                color: 1, 1, 1, 1
                size_hint_y: None
                height: '50dp'
                halign: 'center'
                valign: 'middle'
                text_size: self.size

            # Spacing
            Widget:
                size_hint_y: None
                height: '20dp'

            # Username Label
            Label:
                text: 'Username'
                font_size: '14sp'
                color: 1, 1, 1, 1
                size_hint_y: None
                height: '20dp'
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            # Username Input
            BoxLayout:
                size_hint_y: None
                height: '45dp'
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8, 8, 8, 8]
                
                TextInput:
                    id: login_email
                    hint_text: ''
                    multiline: False
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Transparent
                    foreground_color: 0.2, 0.2, 0.2, 1  # Dark text
                    cursor_color: 0.25, 0.11, 0.55, 1  # Purple cursor
                    padding: [15, 12]
                    font_size: '16sp'

            # Password Label
            Label:
                text: 'Password'
                font_size: '14sp'
                color: 1, 1, 1, 1
                size_hint_y: None
                height: '20dp'
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            # Password Input
            BoxLayout:
                size_hint_y: None
                height: '45dp'
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8, 8, 8, 8]
                
                TextInput:
                    id: login_password
                    hint_text: ''
                    password: True
                    multiline: False
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Transparent
                    foreground_color: 0.2, 0.2, 0.2, 1  # Dark text
                    cursor_color: 0.25, 0.11, 0.55, 1  # Purple cursor
                    padding: [15, 12]
                    font_size: '16sp'

            # Spacing
            Widget:
                size_hint_y: None
                height: '20dp'

            # Login Button
            Button:
                text: 'Log in'
                background_normal: ''
                background_color: 1, 1, 1, 1  # White button
                color: 0.25, 0.11, 0.55, 1  # Purple text
                font_size: '16sp'
                bold: True
                size_hint_y: None
                height: '50dp'
                on_press: root.do_login()
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8, 8, 8, 8]
                canvas.after:
                    Color:
                        rgba: 0, 0, 0, 0.1 if self.state == 'down' else 0
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8, 8, 8, 8]

            # Register Link (if needed)
            BoxLayout:
                size_hint_y: None
                height: '30dp'
                orientation: 'horizontal'
                
                Label:
                    text: "Don't have an account?"
                    font_size: '12sp'
                    color: 0.9, 0.9, 0.9, 1
                    size_hint_x: 0.7
                    halign: 'right'
                    valign: 'middle'
                    text_size: self.size

                Button:
                    text: 'Register'
                    font_size: '12sp'
                    bold: True
                    color: 1, 1, 1, 1
                    size_hint_x: 0.3
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Transparent
                    on_press: app.root.current = 'register'